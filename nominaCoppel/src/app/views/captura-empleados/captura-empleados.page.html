<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Captura de empleados</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="formCaptura">
    <ion-card>
      <ion-row>
        <ion-col size="4.5" offset="1">
          <ion-label>Nombre del empleado:</ion-label>
        </ion-col>
        <ion-col size="4.5" offset="1">
          <ion-label>Apellido paterno:</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="linea" size="4.5" offset="1">
          <ion-input formControlName="nombre"></ion-input>
        </ion-col>
        <ion-col class="linea" size="4.5" offset="1">
          <ion-input formControlName="apellido_pat"></ion-input>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="4.5" offset="1">
          <div class="validation-error">
            <ng-container *ngFor="let validation of validationMessages.nombre">
              <div *ngIf="formCaptura.get('nombre').hasError(validation.type) &&
          (formCaptura.get('nombre').dirty ||
          formCaptura.get('nombre').touched)">
                {{validation.message }}
              </div>
            </ng-container>
          </div>
        </ion-col>
        <ion-col size="4.5" offset="1">
          <div class="validation-error">
            <ng-container *ngFor="let validation of validationMessages.apellido_pat">
              <div *ngIf="formCaptura.get('apellido_pat').hasError(validation.type) &&
          (formCaptura.get('apellido_pat').dirty ||
          formCaptura.get('apellido_pat').touched)">
                {{validation.message }}
              </div>
            </ng-container>
          </div>
        </ion-col>
      </ion-row>
      <ion-row class="mt">
        <ion-col size="4.5" offset="1">
          <ion-label>Apellido materno:</ion-label>
        </ion-col>
        <ion-col size="4.5" offset="1">
          <ion-label>Telefono:</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="linea" size="4.5" offset="1">
          <ion-input formControlName="apellido_mat"></ion-input>
        </ion-col>
        <ion-col class="linea" size="4.5" offset="1">
          <ion-input formControlName="telefono"></ion-input>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="4.5" offset="1">
          <div class="validation-error">
            <ng-container *ngFor="let validation of validationMessages.apellido_mat">
              <div *ngIf="formCaptura.get('apellido_mat').hasError(validation.type) &&
          (formCaptura.get('apellido_mat').dirty ||
          formCaptura.get('apellido_mat').touched)">
                {{validation.message }}
              </div>
            </ng-container>
          </div>
        </ion-col>
        <ion-col size="4.5" offset="1">
          <div class="validation-error">
            <ng-container *ngFor="let validation of validationMessages.telefono">
              <div *ngIf="formCaptura.get('telefono').hasError(validation.type) &&
          (formCaptura.get('telefono').dirty ||
          formCaptura.get('telefono').touched)">
                {{validation.message }}
              </div>
            </ng-container>
          </div>
        </ion-col>
      </ion-row>
      <ion-row class="mt">
        <ion-col size="6" offset="1">
          <ion-label>Domicilio:</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="linea" size="8" offset="1">
          <ion-input formControlName="domicilio"></ion-input>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="8" offset="1">
          <div class="validation-error">
            <ng-container *ngFor="let validation of validationMessages.domicilio">
              <div *ngIf="formCaptura.get('domicilio').hasError(validation.type) &&
          (formCaptura.get('domicilio').dirty ||
          formCaptura.get('domicilio').touched)">
                {{validation.message }}
              </div>
            </ng-container>
          </div>
        </ion-col>
      </ion-row>
      <ion-row class="mt centrar">
        <ion-col size="2">
          <ion-label>Fecha de nacimiento:</ion-label>
        </ion-col>
        <ion-col size="2">
          <ion-datetime-button datetime="date"  *ngIf="true"></ion-datetime-button>
             <ion-modal [keepContentsMounted]="true">
            <ng-template>
              <ion-datetime id="date" presentation="date" (ionChange)="fechaSeleccionada($event)">
                <span slot="title">Seleccione la fecha</span>
              </ion-datetime>
            </ng-template>
          </ion-modal>
        </ion-col>
        <ion-col size="3" offset="3">
          <ion-select class="texto" label="Rol" placeholder="Seleccione un puesto:" formControlName="puesto" justify="start" (ionChange)="selectPuesto($event)">
            <div *ngFor="let p of arrayPuestos">
              <ion-select-option [value]=p>{{p.nombre}}</ion-select-option>
            </div>
          </ion-select>
        </ion-col>
      </ion-row>
      <ion-row class="mt">
        <ion-col size="3" offset="4" class="centrar">
          <ion-button [disabled]="!formCaptura.valid" (click)="capturarEmpleado()">Guardar</ion-button>
        </ion-col>
      </ion-row>
    </ion-card>
  </form>
</ion-content>